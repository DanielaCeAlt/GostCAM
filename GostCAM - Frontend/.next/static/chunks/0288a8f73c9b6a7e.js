(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58116,(e,s,a)=>{let t=Error("Could not parse module '[project]/src/components/Dashboard.tsx'\n\nUnexpected token. Did you mean `{'>'}` or `&gt;`?");throw t.code="MODULE_UNPARSABLE",t},52683,e=>{"use strict";e.s(["default",()=>S],52683);var s=e.i(43476),a=e.i(34913),t=e.i(50244),r=e.i(88589),i=e.i(58116),l=e.i(32077),c=e.i(71645);function o(e){let{vistaActual:a,vistaSucursales:t,sucursalSeleccionada:r,searchTerm:i,onVistaChange:l,onVistaSucursalesChange:c,onSearchChange:o,onRefresh:n}=e;return(0,s.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("i",{className:"fas fa-building text-2xl text-blue-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"detalle"===a&&r?"".concat(r.nombre):"Gesti√≥n de Sucursales"}),(0,s.jsx)("p",{className:"text-gray-600",children:"detalle"===a&&r?"Detalles y equipos de la sucursal":"Administra todas las sucursales y sus equipos"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:["lista"===a&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("i",{className:"fas fa-search text-gray-400"}),(0,s.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"Buscar...",className:"w-64 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),"lista"===a&&(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>c("tarjetas"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat("tarjetas"===t?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-500 text-white hover:bg-blue-600"),children:(0,s.jsx)("span",{children:"üóÇÔ∏è Tarjetas"})}),(0,s.jsx)("button",{onClick:()=>c("lista"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat("lista"===t?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-500 text-white hover:bg-blue-600"),children:(0,s.jsx)("span",{children:"üìã Lista"})})]}),"detalle"===a&&r&&(0,s.jsx)("button",{onClick:()=>l("lista"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors bg-blue-500 text-white hover:bg-blue-600",children:(0,s.jsx)("span",{children:"üìã Volver a Lista"})}),(0,s.jsx)("div",{className:"h-8 w-px bg-gray-300"}),(0,s.jsxs)("button",{onClick:n,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,s.jsx)("i",{className:"fas fa-sync-alt"}),(0,s.jsx)("span",{children:"Actualizar"})]})]})]})})}function n(){let[e,a]=(0,c.useState)([]),[t,r]=(0,c.useState)([]),[i,l]=(0,c.useState)(""),[n,d]=(0,c.useState)("tarjetas"),[x,m]=(0,c.useState)({totalSucursales:0,totalCamaras:0,totalSensores:0,camarasActivas:0,sensoresActivos:0}),[h,u]=(0,c.useState)(!0),[p,g]=(0,c.useState)(null),[j,f]=(0,c.useState)([]),[b,v]=(0,c.useState)(!1),[N,y]=(0,c.useState)("lista");(0,c.useEffect)(()=>{w()},[]),(0,c.useEffect)(()=>{_()},[i,e]);let w=async()=>{u(!0);try{let e=[{id:1,nombre:"Centro Principal",direccion:"Av. Principal 123",ciudad:"Ciudad de M√©xico",estado:"CDMX",telefono:"55-1234-5678",email:"centro@gostcam.com",totalCamaras:25,totalSensores:15,camarasActivas:23,sensoresActivos:14,equiposTotal:40},{id:2,nombre:"Sucursal Norte",direccion:"Calle Norte 456",ciudad:"Monterrey",estado:"Nuevo Le√≥n",telefono:"81-8765-4321",email:"norte@gostcam.com",totalCamaras:18,totalSensores:12,camarasActivas:16,sensoresActivos:11,equiposTotal:30},{id:3,nombre:"Sucursal Sur",direccion:"Blvd. Sur 789",ciudad:"Guadalajara",estado:"Jalisco",telefono:"33-2468-1357",email:"sur@gostcam.com",totalCamaras:22,totalSensores:18,camarasActivas:20,sensoresActivos:17,equiposTotal:40},{id:4,nombre:"Sucursal Oeste",direccion:"Av. Oeste 321",ciudad:"Tijuana",estado:"Baja California",telefono:"664-9876-5432",email:"oeste@gostcam.com",totalCamaras:15,totalSensores:10,camarasActivas:14,sensoresActivos:9,equiposTotal:25}];a(e);let s={totalSucursales:e.length,totalCamaras:e.reduce((e,s)=>e+s.totalCamaras,0),totalSensores:e.reduce((e,s)=>e+s.totalSensores,0),camarasActivas:e.reduce((e,s)=>e+s.camarasActivas,0),sensoresActivos:e.reduce((e,s)=>e+s.sensoresActivos,0)};m(s)}catch(e){console.error("Error cargando sucursales:",e)}u(!1)},A=async e=>{v(!0);try{let s=C(e);f(s)}catch(e){console.error("Error cargando equipos de sucursal:",e),f([])}v(!1)},C=e=>{let s=[];for(let a=1;a<=e.totalCamaras;a++)s.push({no_serie:"CAM".concat(e.id).concat(a.toString().padStart(3,"0")),nombreEquipo:"C√°mara ".concat(a," - ").concat(e.nombre),TipoEquipo:"C√°mara",marca:a%3==0?"Hikvision":a%2==0?"Dahua":"Axis",modelo:a%3==0?"DS-2CD2143G0-I":a%2==0?"IPC-HFW4431R-Z":"M3045-V",EstatusEquipo:a<=e.camarasActivas?"Activo":"Inactivo",AreaActual:a<=5?"Entrada":a<=10?"Pasillo Principal":a<=15?"Oficinas":a<=20?"Almac√©n":"Exterior",fechaInstalacion:"2024-".concat(Math.floor(12*Math.random())+1,"-").concat(Math.floor(28*Math.random())+1),ultimoMantenimiento:Math.random()>.3?"2024-11-".concat(Math.floor(7*Math.random())+1):void 0,estadoConexion:a<=e.camarasActivas?Math.random()>.1?"Conectado":"Error":"Desconectado"});for(let a=1;a<=e.totalSensores;a++)s.push({no_serie:"SEN".concat(e.id).concat(a.toString().padStart(3,"0")),nombreEquipo:"Sensor ".concat(a," - ").concat(e.nombre),TipoEquipo:a%4==0?"Sensor de Movimiento":a%3==0?"Sensor de Puerta":a%2==0?"Detector de Humo":"Sensor de Temperatura",marca:a%3==0?"Honeywell":a%2==0?"Bosch":"DSC",modelo:a%3==0?"PIR-312":a%2==0?"ISC-BPR2-W12":"LC-100PI",EstatusEquipo:a<=e.sensoresActivos?"Activo":"Inactivo",AreaActual:a<=3?"Entrada":a<=6?"Pasillo Principal":a<=9?"Oficinas":a<=12?"Almac√©n":"Exterior",fechaInstalacion:"2024-".concat(Math.floor(12*Math.random())+1,"-").concat(Math.floor(28*Math.random())+1),ultimoMantenimiento:Math.random()>.4?"2024-11-".concat(Math.floor(7*Math.random())+1):void 0,estadoConexion:a<=e.sensoresActivos?Math.random()>.05?"Conectado":"Error":"Desconectado"});return s},_=()=>{let s=e;i&&(s=s.filter(e=>e.nombre.toLowerCase().includes(i.toLowerCase())||e.ciudad.toLowerCase().includes(i.toLowerCase())||e.estado.toLowerCase().includes(i.toLowerCase()))),r(s)},E=async e=>{g(e),y("detalle"),await A(e)},S=e=>{switch(e){case"Activo":return"bg-green-100 text-green-800";case"Inactivo":default:return"bg-gray-100 text-gray-800";case"Con Falla":return"bg-red-100 text-red-800";case"Mantenimiento":return"bg-yellow-100 text-yellow-800"}},k=e=>{switch(e){case"Conectado":return"bg-green-100 text-green-800";case"Desconectado":default:return"bg-gray-100 text-gray-800";case"Error":return"bg-red-100 text-red-800"}};return"detalle"===N&&p?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(o,{vistaActual:N,vistaSucursales:n,sucursalSeleccionada:p,searchTerm:i,onVistaChange:y,onVistaSucursalesChange:d,onSearchChange:l,onRefresh:w}),(0,s.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"text-gray-600",children:[p.direccion,", ",p.ciudad]})}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"Total de Equipos"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:p.equiposTotal})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"C√°maras"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:[p.camarasActivas,"/",p.totalCamaras]})]}),(0,s.jsx)("i",{className:"fas fa-video text-2xl text-blue-600"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Sensores"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[p.sensoresActivos,"/",p.totalSensores]})]}),(0,s.jsx)("i",{className:"fas fa-broadcast-tower text-2xl text-green-600"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Activos"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:p.camarasActivas+p.sensoresActivos})]}),(0,s.jsx)("i",{className:"fas fa-check-circle text-2xl text-purple-600"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-orange-600",children:"% Operativo"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-orange-900",children:[Math.round((p.camarasActivas+p.sensoresActivos)/p.equiposTotal*100),"%"]})]}),(0,s.jsx)("i",{className:"fas fa-chart-line text-2xl text-orange-600"})]})})]}),(0,s.jsx)("div",{className:"space-y-6",children:b?(0,s.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,s.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,s.jsx)("span",{className:"ml-2",children:"Cargando equipos..."})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("i",{className:"fas fa-video text-2xl text-blue-600"}),(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["C√°maras (",j.filter(e=>"C√°mara"===e.TipoEquipo).length,")"]})]})}),(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-blue-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"N√∫mero de Serie"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Nombre"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Marca/Modelo"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Ubicaci√≥n"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Estado"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Conexi√≥n"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"√öltimo Mant."})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.filter(e=>"C√°mara"===e.TipoEquipo).map(e=>(0,s.jsxs)("tr",{className:"hover:bg-blue-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.no_serie})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.nombreEquipo})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.marca}),(0,s.jsx)("div",{className:"text-gray-500",children:e.modelo})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.AreaActual}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(S(e.EstatusEquipo)),children:e.EstatusEquipo})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(k(e.estadoConexion)),children:e.estadoConexion})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.ultimoMantenimiento?new Date(e.ultimoMantenimiento).toLocaleDateString():"Sin registro"})]},e.no_serie))})]}),0===j.filter(e=>"C√°mara"===e.TipoEquipo).length&&(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay c√°maras registradas en esta sucursal"})]})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("i",{className:"fas fa-broadcast-tower text-2xl text-green-600"}),(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Sensores y Dispositivos (",j.filter(e=>"C√°mara"!==e.TipoEquipo).length,")"]})]})}),(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-green-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"N√∫mero de Serie"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Nombre/Tipo"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Marca/Modelo"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Ubicaci√≥n"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Estado"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Conexi√≥n"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"√öltimo Mant."})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.filter(e=>"C√°mara"!==e.TipoEquipo).map(e=>(0,s.jsxs)("tr",{className:"hover:bg-green-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.no_serie})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.nombreEquipo}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.TipoEquipo})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.marca}),(0,s.jsx)("div",{className:"text-gray-500",children:e.modelo})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.AreaActual}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(S(e.EstatusEquipo)),children:e.EstatusEquipo})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(k(e.estadoConexion)),children:e.estadoConexion})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.ultimoMantenimiento?new Date(e.ultimoMantenimiento).toLocaleDateString():"Sin registro"})]},e.no_serie))})]}),0===j.filter(e=>"C√°mara"!==e.TipoEquipo).length&&(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay sensores o dispositivos registrados en esta sucursal"})]})]}),0===j.length&&(0,s.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay equipos registrados en esta sucursal"})})]})})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(o,{vistaActual:N,vistaSucursales:n,sucursalSeleccionada:p,searchTerm:i,onVistaChange:y,onVistaSucursalesChange:d,onSearchChange:l,onRefresh:w}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Sucursales"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:x.totalSucursales})]}),(0,s.jsx)("i",{className:"fas fa-building text-2xl text-blue-600"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-green-600",children:"C√°maras Totales"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-900",children:x.totalCamaras})]}),(0,s.jsx)("i",{className:"fas fa-video text-2xl text-green-600"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Sensores Totales"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:x.totalSensores})]}),(0,s.jsx)("i",{className:"fas fa-broadcast-tower text-2xl text-purple-600"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-orange-600",children:"C√°maras Activas"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:x.camarasActivas})]}),(0,s.jsx)("i",{className:"fas fa-check-circle text-2xl text-orange-600"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-red-600",children:"Sensores Activos"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-red-900",children:x.sensoresActivos})]}),(0,s.jsx)("i",{className:"fas fa-shield-alt text-2xl text-red-600"})]})})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Sucursales (",t.length,")"]})}),h?(0,s.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,s.jsx)("span",{className:"ml-2",children:"Cargando sucursales..."})]}):"tarjetas"===n?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:t.map(e=>{let a=Math.round((e.camarasActivas+e.sensoresActivos)/e.equiposTotal*100);return(0,s.jsxs)("div",{onClick:()=>E(e),className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow cursor-pointer bg-white",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(a>=80?"bg-green-500":"bg-red-500")}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.nombre}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[e.ciudad,", ",e.estado]})]})]}),(0,s.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(a>=80?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[a,"%"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.camarasActivas}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"C√°maras"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.sensoresActivos}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Sensores"})]})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 mb-3",children:[(0,s.jsx)("div",{children:e.direccion}),e.telefono&&(0,s.jsxs)("div",{children:["üìû ",e.telefono]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Total: ",e.equiposTotal," equipos"]}),(0,s.jsx)("i",{className:"fas fa-chevron-right text-gray-400"})]})]},e.id)})}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Sucursal"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Ubicaci√≥n"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Equipos"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Estado"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Contacto"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Acciones"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>{let a=Math.round((e.camarasActivas+e.sensoresActivos)/e.equiposTotal*100);return(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full mr-3 ".concat(a>=80?"bg-green-500":"bg-red-500")}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.nombre}),(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["ID: ",e.id]})]})]})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-900",children:[e.ciudad,", ",e.estado]}),(0,s.jsx)("div",{className:"text-sm text-gray-700",children:e.direccion})]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-blue-600",children:e.camarasActivas}),(0,s.jsx)("div",{className:"text-xs text-gray-700",children:"C√°maras"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-green-600",children:e.sensoresActivos}),(0,s.jsx)("div",{className:"text-xs text-gray-700",children:"Sensores"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.equiposTotal}),(0,s.jsx)("div",{className:"text-xs text-gray-700",children:"Total"})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(a>=80?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[a>=80?"Operativa":"Con Problemas"," (",a,"%)"]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"text-sm text-gray-900",children:[e.telefono&&(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("i",{className:"fas fa-phone text-gray-400 mr-1"}),e.telefono]}),e.email&&(0,s.jsxs)("div",{className:"flex items-center mt-1",children:[(0,s.jsx)("i",{className:"fas fa-envelope text-gray-400 mr-1"}),(0,s.jsx)("span",{className:"text-xs",children:e.email})]})]})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,s.jsx)("button",{onClick:()=>E(e),className:"text-blue-600 hover:text-blue-900 mr-2",children:(0,s.jsx)("i",{className:"fas fa-eye"})}),(0,s.jsx)("button",{onClick:s=>{s.stopPropagation(),console.log("Editar sucursal:",e.id)},className:"text-gray-600 hover:text-gray-900",children:(0,s.jsx)("i",{className:"fas fa-edit"})})]})]},e.id)})})]})}),!h&&0===t.length&&(0,s.jsx)("div",{className:"text-center py-8 text-gray-700",children:"No se encontraron sucursales con los filtros aplicados"})]})]})}let d=e=>{let{title:a="Gesti√≥n de Fallas",onRefresh:t,showRefreshButton:r=!0,loading:i=!1,tabs:l=[],activeTab:c="",onTabChange:o}=e;return(0,s.jsx)("div",{className:"bg-white shadow rounded-lg p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("i",{className:"fas fa-exclamation-triangle text-2xl text-red-600 mr-3"}),(0,s.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:a})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[l.length>0&&(0,s.jsx)(s.Fragment,{children:l.map(e=>(0,s.jsxs)("button",{onClick:()=>null==o?void 0:o(e.id),className:"flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat(c===e.id?"text-white bg-blue-600 hover:bg-blue-700":"text-white bg-blue-500 hover:bg-blue-600"),children:[(0,s.jsx)("i",{className:"".concat(e.icon," mr-2")}),e.label]},e.id))}),r&&t&&(0,s.jsxs)("button",{onClick:t,disabled:i,className:"flex items-center px-3 py-2 text-sm rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium",children:[(0,s.jsx)("i",{className:"fas fa-sync-alt mr-2 ".concat(i?"animate-spin":"")}),"Actualizar"]})]})]})})},x=()=>{let[e,a]=(0,c.useState)("consultar"),[t,r]=(0,c.useState)([]),[i,l]=(0,c.useState)(null),[o,n]=(0,c.useState)(!1),[x,m]=(0,c.useState)({estatus:"ABIERTA",prioridad:"",tipo:"",tecnico:"",fechaDesde:"",fechaHasta:""}),[h,u]=(0,c.useState)([]),[p,g]=(0,c.useState)(null),[j,f]=(0,c.useState)([]),[b,v]=(0,c.useState)({no_serie:"",tipo_falla:"HARDWARE",descripcion_problema:"",sintomas:"",prioridad:"NORMAL",usuario_reporta:"",tecnico_asignado:"",ubicacion_falla:"",impacto:"MEDIO",requiere_repuestos:!1,observaciones:""}),[N,y]=(0,c.useState)(""),[w,A]=(0,c.useState)(null),[C,_]=(0,c.useState)(!1);(0,c.useEffect)(()=>{"consultar"===e&&E(),"reportar"===e&&S()},[e,x]);let E=async()=>{n(!0);try{let e={fallas:[{id:1,no_serie:"CAM001",nombreEquipo:"C√°mara Principal",tipoEquipo:"C√°mara",sucursal:"Centro Principal",tipo_falla:"HARDWARE",descripcion_problema:"C√°mara no enfoca correctamente",sintomas:"Imagen borrosa, no responde a ajustes autom√°ticos",prioridad:"ALTA",usuario_reporta:"Juan P√©rez",fecha_reporte:"2024-11-06",fecha_solucion:void 0,tecnico_asignado:"Mar√≠a Gonz√°lez",solucion_aplicada:void 0,estatus:"ABIERTA",tiempo_solucion_horas:void 0,observaciones:"Requiere revisi√≥n urgente",ubicacion_falla:"Centro Principal - Entrada",impacto:"ALTO",requiere_repuestos:!0,repuestos_utilizados:void 0,costo_reparacion:void 0,diasAbierta:2},{id:2,no_serie:"CAM002",nombreEquipo:"C√°mara Entrada",tipoEquipo:"C√°mara",sucursal:"Sucursal Norte",tipo_falla:"SOFTWARE",descripcion_problema:"Error en software de grabaci√≥n",sintomas:"Se reinicia autom√°ticamente cada 30 minutos",prioridad:"NORMAL",usuario_reporta:"Ana Rodr√≠guez",fecha_reporte:"2024-11-05",fecha_solucion:"2024-11-07",tecnico_asignado:"Carlos L√≥pez",solucion_aplicada:"Actualizaci√≥n de firmware",estatus:"RESUELTA",tiempo_solucion_horas:2,observaciones:"Problema resuelto con actualizaci√≥n",ubicacion_falla:"Sucursal Norte - Acceso",impacto:"MEDIO",requiere_repuestos:!1,repuestos_utilizados:void 0,costo_reparacion:0,diasAbierta:2},{id:3,no_serie:"CAM003",nombreEquipo:"C√°mara Pasillo",tipoEquipo:"C√°mara",sucursal:"Centro Principal",tipo_falla:"CONECTIVIDAD",descripcion_problema:"P√©rdida intermitente de conexi√≥n",sintomas:"Se desconecta aleatoriamente de la red",prioridad:"CRITICA",usuario_reporta:"Luis Martinez",fecha_reporte:"2024-11-04",fecha_solucion:void 0,tecnico_asignado:"Juan P√©rez",solucion_aplicada:void 0,estatus:"EN_PROCESO",tiempo_solucion_horas:void 0,observaciones:"Revisando cableado de red",ubicacion_falla:"Centro Principal - Pasillo A",impacto:"CRITICO",requiere_repuestos:!0,repuestos_utilizados:void 0,costo_reparacion:void 0,diasAbierta:4}],estadisticas:{total:3,abiertas:1,en_proceso:1,resueltas:1,promedio_solucion_horas:2,por_tipo:{hardware:1,software:1,conectividad:1,suministros:0,mecanica:0,electrica:0,otra:0},por_prioridad:{baja:0,normal:1,alta:1,critica:1},por_tecnico:[{tecnico:"Mar√≠a Gonz√°lez",total_asignadas:1,resueltas:0,en_proceso:0,promedio_horas:0},{tecnico:"Carlos L√≥pez",total_asignadas:1,resueltas:1,en_proceso:0,promedio_horas:2},{tecnico:"Juan P√©rez",total_asignadas:1,resueltas:0,en_proceso:1,promedio_horas:0}]}};r(e.fallas),l(e.estadisticas)}catch(e){console.error("Error cargando fallas:",e),r([]),l({total:0,abiertas:0,en_proceso:0,resueltas:0,promedio_solucion_horas:0,por_tipo:{hardware:0,software:0,conectividad:0,suministros:0,mecanica:0,electrica:0,otra:0},por_prioridad:{baja:0,normal:0,alta:0,critica:0},por_tecnico:[]})}n(!1)},S=async()=>{try{f([{id:1,nombre:"Juan P√©rez - T√©cnico Senior"},{id:2,nombre:"Mar√≠a Gonz√°lez - T√©cnico"},{id:3,nombre:"Carlos L√≥pez - T√©cnico Junior"},{id:4,nombre:"Ana Rodr√≠guez - Especialista"}])}catch(e){console.error("Error cargando t√©cnicos:",e)}},k=async e=>{if(!e.trim())return void u([]);try{let s=await fetch("/api/equipos/search?q=".concat(encodeURIComponent(e))),a=await s.json();a.success&&u(a.data)}catch(e){console.error("Error buscando equipos:",e)}},T=async()=>{try{alert("Falla reportada exitosamente"),v({no_serie:"",tipo_falla:"HARDWARE",descripcion_problema:"",sintomas:"",prioridad:"NORMAL",usuario_reporta:"",tecnico_asignado:"",ubicacion_falla:"",impacto:"MEDIO",requiere_repuestos:!1,observaciones:""}),g(null),y(""),E()}catch(e){console.error("Error reportando falla:",e),alert("Error interno del servidor")}},R=async e=>{try{alert("Falla actualizada exitosamente"),_(!1),A(null),E()}catch(e){console.error("Error actualizando falla:",e),alert("Error interno del servidor")}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(d,{title:"Gesti√≥n de Fallas",onRefresh:()=>E(),showRefreshButton:"consultar"===e,loading:o,tabs:[{id:"consultar",label:"Consultar Fallas",icon:"fas fa-search"},{id:"reportar",label:"Reportar Falla",icon:"fas fa-plus-circle"},{id:"estadisticas",label:"Estad√≠sticas",icon:"fas fa-chart-bar"}],activeTab:e,onTabChange:e=>a(e)}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:["consultar"===e&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estatus"}),(0,s.jsxs)("select",{value:x.estatus,onChange:e=>m({...x,estatus:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm",children:[(0,s.jsx)("option",{value:"ABIERTA",children:"Abierta"}),(0,s.jsx)("option",{value:"EN_PROCESO",children:"En Proceso"}),(0,s.jsx)("option",{value:"RESUELTA",children:"Resuelta"}),(0,s.jsx)("option",{value:"CANCELADA",children:"Cancelada"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),(0,s.jsxs)("select",{value:x.prioridad,onChange:e=>m({...x,prioridad:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm",children:[(0,s.jsx)("option",{value:"",children:"Todas"}),(0,s.jsx)("option",{value:"CRITICA",children:"Cr√≠tica"}),(0,s.jsx)("option",{value:"ALTA",children:"Alta"}),(0,s.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,s.jsx)("option",{value:"BAJA",children:"Baja"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,s.jsxs)("select",{value:x.tipo,onChange:e=>m({...x,tipo:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm",children:[(0,s.jsx)("option",{value:"",children:"Todos"}),(0,s.jsx)("option",{value:"HARDWARE",children:"Hardware"}),(0,s.jsx)("option",{value:"SOFTWARE",children:"Software"}),(0,s.jsx)("option",{value:"CONECTIVIDAD",children:"Conectividad"}),(0,s.jsx)("option",{value:"SUMINISTROS",children:"Suministros"}),(0,s.jsx)("option",{value:"MECANICA",children:"Mec√°nica"}),(0,s.jsx)("option",{value:"ELECTRICA",children:"El√©ctrica"}),(0,s.jsx)("option",{value:"OTRA",children:"Otra"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),(0,s.jsx)("input",{type:"date",value:x.fechaDesde,onChange:e=>m({...x,fechaDesde:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),(0,s.jsx)("input",{type:"date",value:x.fechaHasta,onChange:e=>m({...x,fechaHasta:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T√©cnico"}),(0,s.jsx)("input",{type:"text",value:x.tecnico,onChange:e=>m({...x,tecnico:e.target.value}),placeholder:"Nombre del t√©cnico",className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm"})]})]}),o?(0,s.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,s.jsx)("span",{className:"ml-2",children:"Cargando fallas..."})]}):(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 ",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Equipo"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Tipo/Prioridad"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Descripci√≥n"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"T√©cnico"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Fechas"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Acciones"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.no_serie}),(0,s.jsx)("div",{className:"text-sm text-gray-700",children:e.nombreEquipo}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:e.sucursal})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:(e=>({HARDWARE:"Hardware",SOFTWARE:"Software",CONECTIVIDAD:"Conectividad",SUMINISTROS:"Suministros",MECANICA:"Mec√°nica",ELECTRICA:"El√©ctrica",OTRA:"Otra"})[e]||e)(e.tipo_falla)}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full border ".concat((e=>{switch(e){case"CRITICA":return"bg-red-100 text-red-800 border-red-200";case"ALTA":return"bg-orange-100 text-orange-800 border-orange-200";case"NORMAL":return"bg-blue-100 text-blue-800 border-blue-200";case"BAJA":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(e.prioridad)),children:e.prioridad}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat((e=>{switch(e){case"ABIERTA":return"bg-red-100 text-red-800";case"EN_PROCESO":return"bg-yellow-100 text-yellow-800";case"RESUELTA":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(e.estatus)),children:e.estatus})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"text-sm text-gray-900 max-w-xs",children:[(0,s.jsx)("div",{className:"font-medium mb-1",children:e.descripcion_problema}),e.sintomas&&(0,s.jsxs)("div",{className:"text-xs text-gray-700",children:["S√≠ntomas: ",e.sintomas]}),(0,s.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Reportado por: ",e.usuario_reporta]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.tecnico_asignado||"Sin asignar"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:["Reportado: ",new Date(e.fecha_reporte).toLocaleDateString()]}),e.fecha_solucion&&(0,s.jsxs)("div",{children:["Resuelto: ",new Date(e.fecha_solucion).toLocaleDateString()]}),(0,s.jsxs)("div",{className:"text-xs text-gray-700",children:[e.diasAbierta," d√≠as transcurridos"]}),e.tiempo_solucion_horas&&(0,s.jsxs)("div",{className:"text-xs text-green-600",children:["Resuelto en ",e.tiempo_solucion_horas,"h"]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,s.jsxs)("button",{onClick:()=>{A(e),_(!0)},className:"text-gray-700 hover:text-gray-900 mr-3",children:[(0,s.jsx)("i",{className:"fas fa-edit"})," Actualizar"]})})]},e.id))})]}),0===t.length&&(0,s.jsx)("div",{className:"text-center py-8 text-gray-700",children:"No se encontraron fallas con los filtros aplicados"})]})]}),"reportar"===e&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 ",children:"Seleccionar Equipo"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:N,onChange:e=>{y(e.target.value),k(e.target.value)},placeholder:"Buscar equipos por n√∫mero de serie o nombre...",className:"w-full px-4 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 "}),h.length>0&&(0,s.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:h.map(e=>(0,s.jsxs)("button",{onClick:()=>(e=>{g(e),v(s=>({...s,no_serie:e.no_serie,ubicacion_falla:"".concat(e.SucursalActual," - ").concat(e.AreaActual||"Sin especificar")})),y("".concat(e.no_serie," - ").concat(e.nombreEquipo)),u([])})(e),className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-200 ",children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-gray-900 ",children:[e.no_serie," - ",e.nombreEquipo]}),(0,s.jsxs)("div",{className:"text-xs text-gray-700",children:[e.TipoEquipo," | ",e.SucursalActual]})]},e.no_serie))})]}),p&&(0,s.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Equipo Seleccionado"}),(0,s.jsxs)("div",{className:"text-sm font-medium text-gray-900 ",children:[p.no_serie," - ",p.nombreEquipo]}),(0,s.jsxs)("div",{className:"text-xs text-gray-700",children:[p.TipoEquipo," | ",p.SucursalActual]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 ",children:"Detalles de la Falla"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Falla *"}),(0,s.jsxs)("select",{value:b.tipo_falla,onChange:e=>v({...b,tipo_falla:e.target.value}),className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",children:[(0,s.jsx)("option",{value:"HARDWARE",children:"Hardware"}),(0,s.jsx)("option",{value:"SOFTWARE",children:"Software"}),(0,s.jsx)("option",{value:"CONECTIVIDAD",children:"Conectividad"}),(0,s.jsx)("option",{value:"SUMINISTROS",children:"Suministros"}),(0,s.jsx)("option",{value:"MECANICA",children:"Mec√°nica"}),(0,s.jsx)("option",{value:"ELECTRICA",children:"El√©ctrica"}),(0,s.jsx)("option",{value:"OTRA",children:"Otra"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prioridad *"}),(0,s.jsxs)("select",{value:b.prioridad,onChange:e=>v({...b,prioridad:e.target.value}),className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",children:[(0,s.jsx)("option",{value:"BAJA",children:"Baja"}),(0,s.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,s.jsx)("option",{value:"ALTA",children:"Alta"}),(0,s.jsx)("option",{value:"CRITICA",children:"Cr√≠tica"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Impacto"}),(0,s.jsxs)("select",{value:b.impacto,onChange:e=>v({...b,impacto:e.target.value}),className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",children:[(0,s.jsx)("option",{value:"BAJO",children:"Bajo"}),(0,s.jsx)("option",{value:"MEDIO",children:"Medio"}),(0,s.jsx)("option",{value:"ALTO",children:"Alto"}),(0,s.jsx)("option",{value:"CRITICO",children:"Cr√≠tico"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"T√©cnico Asignado"}),(0,s.jsxs)("select",{value:b.tecnico_asignado,onChange:e=>v({...b,tecnico_asignado:e.target.value}),className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",children:[(0,s.jsx)("option",{value:"",children:"Asignar despu√©s..."}),j.map(e=>(0,s.jsx)("option",{value:e.nombre,children:e.nombre},e.id))]})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Usuario que Reporta *"}),(0,s.jsx)("input",{type:"text",value:b.usuario_reporta,onChange:e=>v({...b,usuario_reporta:e.target.value}),placeholder:"Nombre del usuario que reporta la falla",className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descripci√≥n del Problema *"}),(0,s.jsx)("textarea",{value:b.descripcion_problema,onChange:e=>v({...b,descripcion_problema:e.target.value}),rows:3,placeholder:"Describe detalladamente el problema...",className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"S√≠ntomas Observados"}),(0,s.jsx)("textarea",{value:b.sintomas,onChange:e=>v({...b,sintomas:e.target.value}),rows:2,placeholder:"S√≠ntomas espec√≠ficos que presenta el equipo...",className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 "})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Observaciones Adicionales"}),(0,s.jsx)("textarea",{value:b.observaciones,onChange:e=>v({...b,observaciones:e.target.value}),rows:2,placeholder:"Informaci√≥n adicional relevante...",className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 "})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"requiere_repuestos",checked:b.requiere_repuestos,onChange:e=>v({...b,requiere_repuestos:e.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,s.jsx)("label",{htmlFor:"requiere_repuestos",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Requiere repuestos"})]}),(0,s.jsxs)("button",{onClick:T,disabled:!p||!b.descripcion_problema||!b.usuario_reporta,className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700    disabled:bg-gray-400 disabled:cursor-not-allowed   flex items-center justify-center space-x-2",children:[(0,s.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,s.jsx)("span",{children:"Reportar Falla"})]})]})]})}),"estadisticas"===e&&i&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Fallas Abiertas"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:i.abiertas})]}),(0,s.jsx)("i",{className:"fas fa-exclamation-triangle text-2xl text-red-600"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400",children:"En Proceso"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-100",children:i.en_proceso})]}),(0,s.jsx)("i",{className:"fas fa-tools text-2xl text-yellow-600"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Resueltas"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:i.resueltas})]}),(0,s.jsx)("i",{className:"fas fa-check-circle text-2xl text-green-600"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Total"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:i.total})]}),(0,s.jsx)("i",{className:"fas fa-clipboard-list text-2xl text-blue-600"})]})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Distribuci√≥n por Tipo de Falla"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:i.por_tipo.hardware}),(0,s.jsx)("div",{className:"text-sm text-gray-600 ",children:"Hardware"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i.por_tipo.software}),(0,s.jsx)("div",{className:"text-sm text-gray-600 ",children:"Software"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:i.por_tipo.conectividad}),(0,s.jsx)("div",{className:"text-sm text-gray-600 ",children:"Conectividad"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:i.por_tipo.suministros}),(0,s.jsx)("div",{className:"text-sm text-gray-600 ",children:"Suministros"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-red-600",children:i.por_tipo.mecanica}),(0,s.jsx)("div",{className:"text-sm text-gray-600 ",children:"Mec√°nica"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:i.por_tipo.electrica}),(0,s.jsx)("div",{className:"text-sm text-gray-600 ",children:"El√©ctrica"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:i.por_tipo.otra}),(0,s.jsx)("div",{className:"text-sm text-gray-600 ",children:"Otra"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Distribuci√≥n por Prioridad"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-red-600",children:i.por_prioridad.critica}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Cr√≠tica"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:i.por_prioridad.alta}),(0,s.jsx)("div",{className:"text-sm text-gray-600 ",children:"Alta"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i.por_prioridad.normal}),(0,s.jsx)("div",{className:"text-sm text-gray-600 ",children:"Normal"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:i.por_prioridad.baja}),(0,s.jsx)("div",{className:"text-sm text-gray-600 ",children:"Baja"})]})]})]}),i.promedio_solucion_horas>0&&(0,s.jsxs)("div",{className:"bg-white  p-6 rounded-lg border border-gray-200 ",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900  mb-4",children:"Tiempo Promedio de Soluci√≥n"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:[i.promedio_solucion_horas,"h"]}),(0,s.jsx)("div",{className:"text-sm text-gray-600 ",children:"Promedio para fallas resueltas"})]})]}),i.por_tecnico.length>0&&(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Rendimiento por T√©cnico"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 ",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"T√©cnico"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Asignadas"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Resueltas"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"En Proceso"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Promedio (h)"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.por_tecnico.map((e,a)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 ",children:e.tecnico}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 ",children:e.total_asignadas}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:e.resueltas}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-yellow-600",children:e.en_proceso}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 ",children:[e.promedio_horas,"h"]})]},a))})]})})]})]})]}),C&&w&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900  mb-4",children:["Actualizar Falla #",null==w?void 0:w.id]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nuevo Estatus"}),(0,s.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",onChange:e=>{let s=e.target.value;if("RESUELTA"===s){let e=prompt("Ingrese las horas de soluci√≥n:"),a=prompt("Ingrese la soluci√≥n aplicada:");R({estatus:s,tiempo_solucion_horas:e?parseFloat(e):void 0,solucion_aplicada:a||void 0})}else R({estatus:s})},children:[(0,s.jsx)("option",{value:"",children:"Seleccionar nuevo estatus..."}),(0,s.jsx)("option",{value:"EN_PROCESO",children:"En Proceso"}),(0,s.jsx)("option",{value:"RESUELTA",children:"Resuelta"}),(0,s.jsx)("option",{value:"CANCELADA",children:"Cancelada"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Asignar T√©cnico"}),(0,s.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",onChange:e=>{e.target.value&&R({tecnico_asignado:e.target.value})},children:[(0,s.jsx)("option",{value:"",children:"Asignar t√©cnico..."}),j.map(e=>(0,s.jsx)("option",{value:e.nombre,children:e.nombre},e.id))]})]})]}),(0,s.jsx)("div",{className:"flex justify-end space-x-2 mt-6",children:(0,s.jsx)("button",{onClick:()=>_(!1),className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancelar"})})]})})]})},m=()=>(0,s.jsx)(x,{});var h=e.i(74080),u=e.i(35351);let p=(0,c.forwardRef)((e,a)=>{let{variant:t="primary",size:r="md",isLoading:i=!1,leftIcon:l,rightIcon:c,hapticFeedback:o="light",touchFriendly:n=!0,loadingText:d="Procesando...",className:x="",onClick:m,disabled:h,children:p,...g}=e,{buttonPress:j}=(0,u.useHapticFeedback)(),f=["relative inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 ease-in-out focus:outline-none disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none select-none touch-manipulation active:scale-[0.97] transform relative overflow-hidden",{primary:"bg-gostcam-primary hover:bg-gostcam-primary-hover active:bg-gostcam-primary-active text-white font-semibold shadow-sm hover:shadow-md transition-shadow focus:ring-2 focus:ring-gostcam-primary focus:ring-offset-2",secondary:"bg-gostcam-secondary hover:bg-gostcam-secondary-hover active:bg-gostcam-secondary-active text-white font-semibold shadow-sm hover:shadow-md transition-shadow focus:ring-2 focus:ring-gostcam-secondary focus:ring-offset-2",success:"bg-gostcam-success hover:bg-gostcam-success-dark text-white font-medium shadow-sm hover:shadow-md focus:ring-2 focus:ring-gostcam-success focus:ring-offset-2",warning:"bg-gostcam-warning hover:bg-gostcam-warning-dark text-white font-medium shadow-sm hover:shadow-md focus:ring-2 focus:ring-gostcam-warning focus:ring-offset-2",danger:"bg-gostcam-danger hover:bg-gostcam-danger-dark text-white font-medium shadow-sm hover:shadow-md focus:ring-2 focus:ring-gostcam-danger focus:ring-offset-2",ghost:"bg-transparent hover:bg-gostcam-gray-100 active:bg-gostcam-gray-200 text-gostcam-text-primary font-medium focus:ring-2 focus:ring-gostcam-primary focus:ring-offset-2",outline:"border-2 border-gostcam-primary bg-transparent hover:bg-gostcam-primary active:bg-gostcam-primary-hover text-gostcam-primary hover:text-white font-medium transition-all duration-200 focus:ring-2 focus:ring-gostcam-primary focus:ring-offset-2"}[t],{sm:n?"min-h-[44px] min-w-[44px] px-4 py-3 text-sm gap-2":"h-9 px-3 py-2 text-sm gap-1.5",md:n?"min-h-[48px] min-w-[48px] px-6 py-3.5 text-base gap-2.5":"h-10 px-4 py-2 text-base gap-2",lg:n?"min-h-[52px] min-w-[52px] px-8 py-4 text-lg gap-3":"h-12 px-6 py-3 text-lg gap-2.5",xl:n?"min-h-[56px] min-w-[56px] px-10 py-5 text-xl gap-3.5":"h-14 px-8 py-4 text-xl gap-3"}[r],x].join(" ");return(0,s.jsxs)("button",{ref:a,className:f,onClick:e=>{h||i||("none"!==o&&j(o),m&&m(e))},disabled:h||i,"aria-disabled":h||i,"aria-label":i?d:void 0,tabIndex:h?-1:0,...g,children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-white opacity-0 hover:opacity-10 transition-opacity duration-200 rounded-xl"}),i?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:d})]}):(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsx)("span",{className:"flex-shrink-0 flex items-center",children:l}),(0,s.jsx)("span",{className:"flex-1 truncate ".concat(l||c?"text-center":""),children:p}),c&&(0,s.jsx)("span",{className:"flex-shrink-0 flex items-center",children:c})]})]})});p.displayName="GostCamButton";let g=(0,c.forwardRef)((e,a)=>{let{icon:t,ariaLabel:r,tooltip:i,size:l="md",variant:c="ghost",...o}=e;return(0,s.jsx)(p,{ref:a,variant:c,size:l,"aria-label":r,title:i||r,className:"".concat({sm:"min-h-[44px] min-w-[44px] w-11 h-11",md:"min-h-[48px] min-w-[48px] w-12 h-12",lg:"min-h-[52px] min-w-[52px] w-14 h-14",xl:"min-h-[56px] min-w-[56px] w-16 h-16"}[l]," p-0"),...o,children:t})});function j(e){let{toast:a,onClose:t}=e,[r,i]=(0,c.useState)(!1),[l,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(setTimeout(()=>i(!0),100),a.duration){let e=setTimeout(()=>{n()},a.duration);return()=>clearTimeout(e)}},[a.duration]);let n=()=>{o(!0),setTimeout(()=>{t(a.id)},300)};return(0,s.jsx)("div",{className:"transform transition-all duration-300 ease-in-out ".concat(r&&!l?"translate-x-0":"translate-x-full"," mb-4 w-full max-w-md"),role:"alert","aria-live":"polite",children:(0,s.jsx)("div",{className:"rounded-xl shadow-lg overflow-hidden ".concat((()=>{let e="border-l-4";switch(a.type){case"success":return"".concat(e," border-gostcam-success bg-gostcam-success-light");case"error":return"".concat(e," border-gostcam-danger bg-gostcam-danger-light");case"warning":return"".concat(e," border-gostcam-warning bg-gostcam-warning-light");default:return"".concat(e," border-gostcam-info bg-gostcam-info-light")}})()),children:(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("i",{className:"".concat((()=>{switch(a.type){case"success":return"fas fa-check-circle text-gostcam-success";case"error":return"fas fa-exclamation-circle text-gostcam-danger";case"warning":return"fas fa-exclamation-triangle text-gostcam-warning";default:return"fas fa-info-circle text-gostcam-info"}})()," text-xl")})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gostcam-text-primary mb-1",children:a.title}),a.message&&(0,s.jsx)("p",{className:"text-sm text-gostcam-text-secondary",children:a.message}),a.actions&&a.actions.length>0&&(0,s.jsx)("div",{className:"mt-3 flex gap-2",children:a.actions.map((e,a)=>(0,s.jsx)(p,{variant:e.variant||"ghost",size:"sm",onClick:e.onClick,children:e.label},a))})]}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(g,{variant:"ghost",size:"sm",icon:(0,s.jsx)("i",{className:"fas fa-times"}),ariaLabel:"Cerrar notificaci√≥n",onClick:n,className:"text-gostcam-text-muted hover:text-gostcam-text-primary"})})]})})})})}function f(e){let{toasts:a,onRemoveToast:t}=e;return 0===a.length?null:(0,h.createPortal)((0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 flex flex-col-reverse space-y-reverse space-y-4 max-h-screen overflow-hidden","aria-label":"Notificaciones",children:a.map(e=>(0,s.jsx)(j,{toast:e,onClose:t},e.id))}),document.body)}function b(e){let{className:a="",width:t,height:r,rounded:i="md",animate:l=!0}=e,c={};return t&&(c.width="number"==typeof t?"".concat(t,"px"):t),r&&(c.height="number"==typeof r?"".concat(r,"px"):r),(0,s.jsx)("div",{className:["bg-gostcam-gray-200",{none:"rounded-none",sm:"rounded-sm",md:"rounded-lg",lg:"rounded-xl",full:"rounded-full"}[i],l?"animate-wave":"",a].join(" "),style:c,"aria-hidden":"true"})}function v(e){let{hasImage:a=!1,hasActions:t=!1,className:r=""}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gostcam-border-light p-6 space-y-4 ".concat(r),children:[a&&(0,s.jsx)(b,{height:"12rem",className:"w-full"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(b,{height:"1.5rem",width:"80%"}),(0,s.jsx)(b,{height:"1rem",width:"100%"}),(0,s.jsx)(b,{height:"1rem",width:"60%"})]}),t&&(0,s.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,s.jsx)(b,{height:"2.5rem",width:"5rem"}),(0,s.jsx)(b,{height:"2.5rem",width:"4rem"})]})]})}function N(e){let{rows:a=5,columns:t=4,hasHeader:r=!0,className:i=""}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gostcam-border-light overflow-hidden ".concat(i),children:[r&&(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gostcam-border-light",children:(0,s.jsx)("div",{className:"flex gap-4",children:Array.from({length:t},(e,a)=>(0,s.jsx)(b,{height:"1.25rem",width:"6rem"},a))})}),(0,s.jsx)("div",{className:"divide-y divide-gostcam-border-light",children:Array.from({length:a},(e,a)=>(0,s.jsx)("div",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"flex gap-4 items-center",children:Array.from({length:t},(e,a)=>(0,s.jsx)(b,{height:"1rem",width:0===a?"8rem":"6rem"},a))})},a))})]})}function y(e){let{items:a=3,hasAvatar:t=!1,hasActions:r=!1,className:i=""}=e;return(0,s.jsx)("div",{className:"bg-white rounded-xl border border-gostcam-border-light divide-y divide-gostcam-border-light ".concat(i),children:Array.from({length:a},(e,a)=>(0,s.jsx)("div",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[t&&(0,s.jsx)(b,{width:"3rem",height:"3rem",rounded:"full"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(b,{height:"1.25rem",width:"60%"}),(0,s.jsx)(b,{height:"1rem",width:"40%"})]}),r&&(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(b,{width:"2rem",height:"2rem",rounded:"md"}),(0,s.jsx)(b,{width:"2rem",height:"2rem",rounded:"md"})]})]})},a))})}function w(e){let{items:a=4,className:t=""}=e;return(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 ".concat(t),children:Array.from({length:a},(e,a)=>(0,s.jsx)("div",{className:"bg-white rounded-xl border border-gostcam-border-light p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(b,{width:"3rem",height:"3rem",rounded:"lg"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(b,{height:"1rem",width:"70%"}),(0,s.jsx)(b,{height:"2rem",width:"50%"})]})]})},a))})}function A(e){let{className:a=""}=e;return(0,s.jsxs)("div",{className:"space-y-8 ".concat(a),children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(b,{height:"2rem",width:"40%"}),(0,s.jsx)(b,{height:"1rem",width:"60%"})]}),(0,s.jsx)(w,{}),(0,s.jsx)("div",{className:"bg-white rounded-xl border border-gostcam-border-light p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(b,{height:"1.5rem",width:"30%"}),(0,s.jsx)(b,{height:"20rem",className:"w-full"})]})}),(0,s.jsx)(N,{})]})}function C(e){let{fields:a=5,hasTitle:t=!0,hasActions:r=!0,className:i=""}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gostcam-border-light p-6 space-y-6 ".concat(i),children:[t&&(0,s.jsxs)("div",{className:"space-y-2 pb-4 border-b border-gostcam-border-light",children:[(0,s.jsx)(b,{height:"2rem",width:"40%"}),(0,s.jsx)(b,{height:"1rem",width:"70%"})]}),(0,s.jsx)("div",{className:"space-y-6",children:Array.from({length:a},(e,a)=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b,{height:"1.25rem",width:"6rem"}),(0,s.jsx)(b,{height:"3rem",className:"w-full"})]},a))}),r&&(0,s.jsxs)("div",{className:"pt-4 border-t border-gostcam-border-light flex gap-3",children:[(0,s.jsx)(b,{height:"2.75rem",width:"6rem"}),(0,s.jsx)(b,{height:"2.75rem",width:"5rem"})]})]})}function _(e){let{type:a,className:t=""}=e;return(0,s.jsx)("div",{className:"animate-pulse ".concat(t),children:(()=>{switch(a){case"dashboard":default:return(0,s.jsx)(A,{});case"table":return(0,s.jsx)(N,{rows:8,columns:5});case"form":return(0,s.jsx)(C,{});case"list":return(0,s.jsx)(y,{items:6,hasAvatar:!0,hasActions:!0});case"cards":return(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6},(e,a)=>(0,s.jsx)(v,{hasImage:!0,hasActions:!0},a))})}})()})}function E(){let{state:e}=(0,a.useApp)(),{toasts:o,removeToast:d}=function(){let[e,s]=(0,c.useState)([]),a=e=>{var a;let t=Date.now().toString()+Math.random().toString(36).substring(2),r={...e,id:t,duration:null!=(a=e.duration)?a:5e3};return s(e=>[r,...e]),t};return{toasts:e,addToast:a,removeToast:e=>{s(s=>s.filter(s=>s.id!==e))},success:(e,s,t)=>a({type:"success",title:e,message:s,actions:t}),error:(e,s,t)=>a({type:"error",title:e,message:s,actions:t,duration:8e3}),warning:(e,s,t)=>a({type:"warning",title:e,message:s,actions:t,duration:6e3}),info:(e,s,t)=>a({type:"info",title:e,message:s,actions:t})}}();return e.isAuthenticated?e.isLoading?(0,s.jsxs)("div",{className:"min-h-screen bg-gostcam-bg-primary",children:[(0,s.jsx)(r.default,{}),(0,s.jsx)("main",{className:"flex-1 p-6",children:(0,s.jsx)(_,{type:"dashboard"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"min-h-screen bg-gostcam-bg-primary",children:[(0,s.jsx)(r.default,{}),(0,s.jsx)("main",{className:"flex-1",children:(()=>{switch(e.currentSection){case"dashboard":default:return(0,s.jsx)(i.default,{});case"equipos":return(0,s.jsx)(l.default,{});case"sucursales":return(0,s.jsx)(n,{});case"fallas":return(0,s.jsx)(m,{})}})()})]}),(0,s.jsx)(f,{toasts:o,onRemoveToast:d})]}):(0,s.jsx)(t.default,{})}function S(){return(0,s.jsx)(a.AppProvider,{children:(0,s.jsx)(E,{})})}g.displayName="GostCamIconButton"}]);